<div class="dashboard-page">
	<div class="right" style="margin-left: 100px;">
		<div class="heading">
			<ol class="breadcrumb">
				<li><a href="#home">Home</a></li>
				<li class="active">Reports</li>
			</ol>
			<div style="text-align: center; margin-bottom: -10px;">
				<b>Company:</b> {{cmpname}}
			</div>
			<div class="text">Reports</div>
			<div>
				<table style="float: right;">
					<tr>
						<td class="col-xs-5">
							<!-- ng-change="selectReport()" -->
							<div custom-select="rep for rep in reports | filter: $searchTerm"
								custom-select-options="reportselectOptions"
								ng-change="selectReport()" name="report"
								ng-model="reportDTO.reportName" autofocus></div>
						</td>
						<td>
							<div class="col-xs-5">
								<md-datepicker ng-model="reportDTO.fromDate"
									| date:'dd-MM-yyyy' 
							md-placeholder="Sync Date From"
									md-open-on-focus></md-datepicker>
							</div>
						</td>
						<td>
							<div class="col-xs-5">
								<md-datepicker ng-model="reportDTO.toDate"
									| date:'dd-MM-yyyy'
							md-placeholder="Sync Date From"
									md-open-on-focus></md-datepicker>
							</div>
						</td>
						<td>
							<button type="button" class="btn btn-success"
								ng-click="selectReport()">Get</button>
						</td>
					</tr>
				</table>
			</div>
			<br>
			<div class="cu-section">
				<div class="container-fluid">
					<div ng-class="'alert alert-' + (alerts.type || 'warning')"
						ng-show="showSuccessAlert">
						<button type="button" class="close"
							data-ng-click="switchBool('showSuccessAlert')">x</button>
						<strong>{{alerts.msg}}</strong> 
					</div>
				</div>
				<div ng-cloak>
					<md-content> <md-tabs style="min-height:376px;"
						md-border-bottom> <md-tab label={{reportDTO.reportName}}>
					<!-- <md-tab> {{reportDTO.fromDate | date:'dd-MMM-yyyy'}}</md-tab>		md-on-select="onreportclick()
				<md-tab> {{reportDTO.toDate | date:'dd-MMM-yyyy'}}  </md-tab> --> <md-content
						class="md-padding"> <!-- ----------------------------------		TRIAL BALANCE			----------------------------------------------- -->
					<div class="col-lg-12"
						ng-if="reportDTO.reportName== 'Trial Balance'">
						<div class="bs-component" ng-if="reportDTO.reportName !== ''">
							<form class="form-inline">
								<div class="form-group">
									<input type="text" ng-model="search" class="form-control"
										placeholder="Search">
								</div>
								<button style="margin-right: 50px;" ng-click="exportData()"
									class="btn btn-success">Export</button>
							</form>
							<br>
							<div id="exportable">
								<table  class="table table-striped table-hover">
									<thead>
										<tr>
											<th ng-click="sort('slno')">Sl.&nbsp;No.<span
												class="glyphicon sort-icon" ng-show="sortKey=='slno'"
												ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
											</th>
											<th ng-click="sort('baseGrp')">Base Group<span
												class="glyphicon sort-icon" ng-show="sortKey=='clientname'"
												ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
											</th>
											<th ng-click="sort('opDrAmt')">Op.Balance(Dr)<span
												class="glyphicon sort-icon"
												ng-show="sortKey=='contactperson'"
												ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
											</th>
											<th ng-click="sort('opCrAmt')">Op.Balance(Cr)<span
												class="glyphicon sort-icon" ng-show="sortKey=='phone'"
												ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
											</th>
											<th ng-click="sort('clDrAmt')" style="text-align: right;">Cl.Balance(Dr)<span
												class="glyphicon sort-icon" ng-show="sortKey=='status'"
												ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}">
											</span>
											</th>
											<th ng-click="sort('clCrAmt')" style="text-align: right;">Cl.Balance(Cr)<span
												class="glyphicon sort-icon" ng-show="sortKey=='status'"
												ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}">
											</span>
											</th>
											<th ng-click="sort('status')" style="text-align: right;">Net.
												Balance<span class="glyphicon sort-icon"
												ng-show="sortKey=='status'"
												ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}">
											</span>
											</th>
										</tr>
									</thead>
									<tbody>
										<tr
											dir-paginate="comp in data | orderBy:sortKey:reverse | filter:search|itemsPerPage:20"
											current-page="currentPage">
											<td>{{itemsPerPage * (currentPage-1)+$index+1}}</td>
											<!-- <td>{{comp.category}}</td> -->
											<td>{{comp.baseGrp}}</td>
											<td style="text-align: right;">{{comp.opDrAmt |
												number:2}}</td>
											<td style="text-align: right;">{{comp.opCrAmt |
												number:2}}</td>
											<td style="text-align: right;">{{comp.vchDrAmt |
												number:2}}</td>
											<td style="text-align: right;">{{comp.vchCrAmt |
												number:2}}</td>
											<td style="text-align: right;">{{comp.opDrAmt-comp.opCrAmt+comp.vchDrAmt-comp.vchDrAmt-
												comp.vchCrAmt | number:2}}</td>
										</tr>
										<tr ng-hide="{{ data.length}}">
											<td colspan="7" style="text-align: right">{{ data.length}} records found</td>
										</tr>
									</tbody>
									<md-progress-circular md-mode="indeterminate"
										md-diameter="40px" ng-show="isLoadingreports"></md-progress-circular>
								</table>
							</div>
							<div id="exportableall" ng-hide="true">
								<table border="1">
									<b>Perpetuity</b>
									<br>
									<b>TRIAL BALANCE</b>
									<br>
									<b>{{reportDTO.fromDate | date:'dd-MMM-yyyy'}} to
										{{reportDTO.toDate | date:'dd-MMM-yyyy'}}</b>
									<br />
									<br>
									<thead>
										<tr>
											<th style="text-align: left;">Sl.No.</th>
											<!-- <th style="text-align: left;">Name</th> -->
											<th style="text-align: left;">Base Group</th>
											<th style="text-align: right;">Opening Balance(Dr)</th>
											<th style="text-align: right;">Opening Balance(Cr)</th>
											<th style="text-align: right;">Closing Balance(Dr)</th>
											<th style="text-align: right;">Closing Balance(Cr)</th>
											<th style="text-align: right;">Net Balance</th>
										</tr>
									</thead>
									<tbody>
										<tr ng-repeat="comp in data">
											<td style="text-align: left;">{{$index+1}}</td>
											<!-- <td>{{comp.name}}</td> -->
											<td>{{comp.baseGrp}}</td>
											<td style="text-align: right;">{{comp.opDrAmt |
												number:2}}</td>
											<td style="text-align: right;">{{comp.opCrAmt |
												number:2}}</td>
											<td style="text-align: right;">{{comp.vchDrAmt |
												number:2}}</td>
											<td style="text-align: right;">{{comp.vchCrAmt |
												number:2}}</td>
											<td style="text-align: right;">{{comp.vchDrAmt -
												comp.vchCrAmt | number:2}}</td>
										</tr>
									</tbody>
								</table>
							</div>
							<dir-pagination-controls max-size="20" direction-links="true"
								boundary-links="true"> </dir-pagination-controls>
							<br> <a style="margin-bottom: 65px;" href="#masters"
								class="btn btn-success">Back</a>
						</div>
					</div>
					<!-- --------------------------------	DAY BOOK	----------------------------------------------------------->
					<div class="col-lg-12"
						ng-if="reportDTO.reportName != 'Trial Balance'">
						<div class="bs-component" ng-if="reportDTO.reportName !== ''">
							<!-- 					<div class="alert alert-info">
						<p>Sort key: {{sortKey}}</p>
						<p>Reverse: {{reverse}}</p>
						<p>Search String : {{search}}</p>
					</div> -->
							<form class="form-inline">
								<div class="form-group">
									<input type="text" ng-model="search" class="form-control"
										placeholder="Search" style="float: right;">
								</div>
								<button style="margin-right: 50px;" ng-click="exportData()"
									class="btn btn-success" style="float:right;">Export</button>
							</form>
							<div id="exportable">
								<table class="table table-striped table-hover">
									<thead>
										<tr>
											<th ng-click="sort('slno')">Sl.&nbsp;No.<span
												class="glyphicon sort-icon" ng-show="sortKey=='slno'"
												ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
											</th>
											<th ng-click="sort('vchId')">Voucher Id<span
												class="glyphicon sort-icon" ng-show="sortKey=='vchId'"
												ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
											</th>
											<th ng-click="sort('vchDate')">Date<span
												class="glyphicon sort-icon"
												ng-show="sortKey=='contactperson'"
												ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
											</th>
											<th ng-click="sort('vchNumber')">Voucher No<span
												class="glyphicon sort-icon" ng-show="sortKey=='clientname'"
												ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
											</th>
											<th ng-click="sort('vchType')">Voucher Type<span
												class="glyphicon sort-icon" ng-show="sortKey=='clientname'"
												ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
											</th>
											<th ng-click="sort('ledgerName')">Party Name<span
												class="glyphicon sort-icon" ng-show="sortKey=='phone'"
												ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
											</th>
											<th ng-click="sort('vchAmount')" style="text-align: right;">Amount<span
												class="glyphicon sort-icon" ng-show="sortKey=='status'"
												ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}">
											</span>
											</th>
										</tr>
									</thead>
									<tbody>
										<tr
											dir-paginate="db in data | orderBy:sortKey:reverse | filter:search|itemsPerPage:15"
											current-page="currentPage">
											<td>{{itemsPerPage * (currentPage-1)+$index+1}}</td>
											<td>{{db.vchId}}</td>
											<td>{{db.vchDate | date:'dd-MMM-yyyy' }}</td>
											<td>{{db.vchNumber}}</td>
											<td>{{db.vchType}}</td>
											<td>{{db.ledgerName}}</td>
											<td style="text-align: right;">{{db.vchAmount |
												number:2}}</td>
											<td>
												<button type="button" class="btn btn-success"
													ng-click="showAdvanced($event,db)">+</button>
											</td>
										</tr>
										<tr ng-if="reportDTO.reportName !== ''">
											<td colspan="8" style="text-align: right">{{ data.length}} records found</td>
										</tr>
									</tbody>
									<md-progress-circular md-mode="indeterminate"
										md-diameter="40px" ng-show="isLoadingreports"></md-progress-circular>
								</table>
							</div>
							<div id="exportableall" ng-hide="true">
								<table border="1">
									<b>Perpetuity</b>
									<br>
									<b>{{reportDTO.reportName}}</b>
									<br>
									<b>{{reportDTO.fromDate | date:'dd-MMM-yyyy'}} to
										{{reportDTO.toDate | date:'dd-MMM-yyyy'}}</b>
									<br />
									<br>
									<thead>
										<tr>
											<th style="text-align: left;">Sl.No.</th>
											<th style="text-align: left;">Voucher Id</th>
											<th style="text-align: left;">Date</th>
											<th style="text-align: left;">Voucher No.</th>
											<th style="text-align: left;">Voucher Type</th>
											<th style="text-align: left;">Party Name</th>
											<th style="text-align: right;">Amount</th>
										</tr>
									</thead>
									<tbody>
										<tr ng-repeat="db in data">
											<td style="text-align: left;">{{$index+1}}</td>
											<td>{{db.vchId }}</td>
											<td style="text-align: left;">{{db.vchDate |
												date:'dd-MMM-yyyy' }}</td>
											<td style="text-align: left;">{{db.vchNumber}}</td>
											<td style="text-align: left;">{{db.vchName}}</td>
											<td style="text-align: left;">{{db.ledgerName}}</td>
											<td style="text-align: right;">{{db.vchAmount |
												number:2}}</td>
										</tr>
									</tbody>
								</table>
							</div>
							<dir-pagination-controls max-size="15" direction-links="true"
								boundary-links="true"> </dir-pagination-controls>
							<br> <a style="margin-bottom: 65px;" href="#home"
								class="btn btn-success">Back</a>
						</div>
					</div>